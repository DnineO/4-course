<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=win-1251">
</head>
<body text=black bgcolor=white link=blue vlink=blue alink=red>
<link rel=stylesheet type=text/css href=../../1.css>
<font color=red><h2 align=center>Шаг 6 - Учим реагировать на клавиатуру окно OpenGL</h2></font>
<h3>Создание проекта</h3>
Только изменение кода. 
<h3>Создаем код</h3>
Добавляем описание функций реакции 
<pre>
#include "afxwin.h"
#include "GL/gl.h"
#include "GL/glu.h"
#include "GL/glaux.h"

void myinit(void);
void CALLBACK display(void);
void CALLBACK ProcUp(void);
void CALLBACK ProcDown(void);
void CALLBACK RrocLeft(void);
void CALLBACK ProcRight(void);
</pre>
Связываем функции с нажатием клавиш 
<pre>
int main(int argc, char** argv)
{
auxInitDisplayMode (AUX_SINGLE | AUX_RGB );
auxInitPosition (0, 0, 500, 500);
auxInitWindow ("1-6");
myinit ();
auxKeyFunc (AUX_UP, ProcUp);
auxKeyFunc (AUX_DOWN, ProcDown);
auxKeyFunc (AUX_LEFT, RrocLeft);
auxKeyFunc (AUX_RIGHT, ProcRight);
auxMainLoop (display);
return(0);
}
</pre>
И реализация 
<pre>
void CALLBACK ProcUp (void)
{
 MessageBox(0,"Up","Press",MB_ICONINFORMATION);
}

void CALLBACK ProcDown (void)
{
 MessageBox(0,"Down","Press",MB_ICONINFORMATION);
}

void CALLBACK  RrocLeft(void)
{
 MessageBox(0,"Left","Press",MB_ICONINFORMATION);
}

void CALLBACK  ProcRight(void)
{
 MessageBox(0,"Rigth","Press",MB_ICONINFORMATION);
}
</pre>
<h3>Описание</h3>
Для реакции на клавиши необходимо создать описание и реализацию функций типа <b>CALLBACK</b>. Далее эти функции привязываются к нажатиям клавиш с помощью <b>auxKeyFunc</b>. Важно связать функции и клавиши до вызова <b>auxMainLoop</b>. В <b>auxKeyFunc</b> передается код клавиши и адрес функции.
<p>Делайте всё необходимое и запускайте. Нажимаете на кнопки - появляются диалоговые окна. Класс !!!. Только окно должно быть в фокусе (активным) иначе сообщения получит кто-то другой.
<hr>
<h3>Шпаргалка</h3>
Функции должны быть <b>CALLBACK</b>
<p>Свяжите функцию с клавишей 
<pre>
auxKeyFunc (AUX_UP, ProcUp);
.........................
auxMainLoop (display);
</pre>
<p><hr><center><font size=2><a href=5.html>Предыдущий шаг</a> | <a href=7.html>Следующий Шаг</a> | <a href=opengl1.html>Оглавление</a></font></center>
<hr><center><font size=2>By <a href="mailto:kaev@yandex.ru">Artem</a>.</center></body></html>
