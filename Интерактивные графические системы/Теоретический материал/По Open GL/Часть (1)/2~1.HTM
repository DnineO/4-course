<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=win-1251">
</head>
<body text=black bgcolor=white link=blue vlink=blue alink=red>
<link rel=stylesheet type=text/css href=../../1.css>
<font color=red><h2 align=center>Шаг 2 - Линия 2D</h2></font>
<h3>Создание проекта</h3>
Проект нам очень подходит старый. 

<h3>Создаем код </h3>
<pre>
#include "afxwin.h"
#include "GL/gl.h"
#include "GL/glu.h"
#include "GL/glaux.h"

void CALLBACK display(void); 

int main(int argc, char** argv)

{
auxInitDisplayMode (AUX_SINGLE | AUX_RGB);
auxInitPosition (0, 0, 500, 500);
auxInitWindow ("Step1");
auxMainLoop(display);
return 0;
}

void CALLBACK display(void)
{
 glBegin(GL_LINES); 
 glVertex2f (0,0); 
 glVertex2f (100,100); 
 glEnd();
 glFlush();
}
</pre>
<h3>Описание</h3>
У нас добавилась функция <b>auxMainLoop</b>. Эта функция вызывает другую функцию для прокрутки команд <b>OpenGL</b>. Эта функция должна пользоваться передачей параметров типа <b>FAR PASCAL</b>. Передача параметров происходит через стек, а <b>Pascal</b> и <b>C</b>, передают параметры в разной последовательности. Так вот эта процедура должна передовать параметры как <b>PASCAL</b>.
<p><b>void CALLBACK display(void); == void FAR PASCAL display(void); == void __stdcall display(void); == void WINAPI display(void);</b> . Данный тип вызовов установлен для всех типов <b>API</b>. 
<p>Любая последовательность команд по рисованию , это рисовка по вершинам. Вершины определяються от <b>glBegin(тип)</b> до <b>glEnd()</b>. Между этими командам устанавливаются вершины функцией <b>glVertex2f(x,y)</b> для 2D точек. 
<p><b>glFlush()</b> Прорисовывает экран. Без этой команды вы нечего не увидете. Попробуйте.
<hr>
<h3>Шпаргалка</h3>
Создайте функцию для рисования 
<pre>
 void CALLBACK display(void); 
</pre>
Вызовите её 
<pre>
 auxMainLoop(display);
</pre>
Начинайте рисовать и заканчивайте так 
<pre>
 glBegin(GL_LINES); 
 .........
 glEnd();
</pre>
Прорисуйте изображение 
<pre>
 glFlush();
</pre>
<p><hr><center><font size=2><a href=1.html>Предыдущий шаг</a> | <a href=3.html>Следующий Шаг</a> | <a href=opengl1.html>Оглавление</a></font></center>
<hr><center><font size=2>By <a href="mailto:kaev@yandex.ru">Artem</a>.</center></body></html>
