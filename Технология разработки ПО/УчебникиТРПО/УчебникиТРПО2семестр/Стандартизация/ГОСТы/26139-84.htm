<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
<title>ГОСТ 26139-84. Интерфейс для автоматизированных систем управления
рассредоточенными объектами. Общие требования</title> </head>

<body background="img/bg1.jpg" tppabs="http://linux.nist.fss.ru/hr/doc/gost/img/bg1.jpg" leftmargin=10>
<table><tr>
  <td><a href="gosts.htm" tppabs="http://linux.nist.fss.ru/hr/doc/gost/gosts.htm"><img src="img/back32.gif" tppabs="http://linux.nist.fss.ru/hr/doc/gost/img/back32.gif" border=0></a></td>
  <td><!-- SpyLOG v2 f:1211 -->
<script language="javascript">
u="u894.56.spylog.com";d=document;nv=navigator;na=nv.appName;p=1;
bv=Math.round(parseFloat(nv.appVersion)*100);
n=(na.substring(0,2)=="Mi")?0:1;rn=Math.random();z="p="+p+"&rn="+rn;y="";
y+="<a href='http://"+u+"/cnt?f=3&p="+p+"&rn="+rn+"' target=_blank>";
y+="<img src='http://linux.nist.fss.ru/-+u+-/cnt--+z+-&r1=-+escape(d.referrer)+-&r=-+escape(parent.document.referrer)+-&pg=-+escape(window.location.href)+-/ border=0  width=88 height=31  alt='SpyLOG'>";
y+="</a>"; d.write(y);if(!n) { d.write("<"+"!--"); }//--></script><noscript>
<a href="http://u894.56.spylog.com/cnt?f=3&p=1" target=_blank>
<img src="../../../../u894.56.spylog.com/cnt-p=1" tppabs="http://u894.56.spylog.com/cnt?p=1" alt='SpyLOG' border='0'  width=88 height=31 >
</a></noscript><script language="javascript1.2"><!--
if(!n) { d.write("--"+">"); }//--></script>
<!-- SpyLOG  -->
<td><img src="img/comment.gif" tppabs="http://linux.nist.fss.ru/hr/doc/gost/img/comment.gif">
<td><small><i><b>Комментарий составителя сайта.</b>
<br>Хотя на стандарте стоит срок окончания действия, сведения
об этом на сайте www.gost.ru отсутствуют. Видимо было изменение этого стандарта по сравнению
с данной редакцией и действие стандарта продлено.
<br>Кроме этого, в ГОСТ Р 51241-98 (действует с 01.01.2000) есть ссылка на
этот стандарт</i></small>
</table>
<hr>

<table width=100%><tr><td>
<p><b>УДК 681.327.8-182.77:65.011.561:006.354</b></td><td>
<p align=right><b>Группа П01</b></td></tr></table>
<p align=center><img src="img/gerb82.gif" tppabs="http://linux.nist.fss.ru/hr/doc/gost/img/gerb82.gif"></p>
<h3 ALIGN="CENTER">Г О С У Д А Р С Т В Е Н Н Ы Й &nbsp; С Т А Н Д А Р Т &nbsp; С О Ю З А &nbsp; С С Р</h3>
<hr size=5 noshade color=black>
<table width=100%>
<tr>
<td witdh=80%>&nbsp;</td>
<td rowspan=5 width=20% valign=center>
<h1 ALIGN="center">ГОСТ 26139-84</h1>
</td>
<tr>
<td><h2 ALIGN="CENTER">
ИНТЕРФЕЙС ДЛЯ АВТОМАТИЗИРОВАННЫХ СИСТЕМ УПРАВЛЕНИЯ РАССРЕДОТОЧЕННЫМИ
ОБЪЕКТАМИ.
</td>
</tr>
<tr><td><h3 align=center>Общие требования</h3></td></tr>
<tr>
<td><p align=center>Interface for automated systems of dispersed plant
control. General requirements
<p>ОКП 42 4920
</td>
</tr>
</table>
<hr size=2 noshade color=black>

<p><b> Постановлением Государственного комитета СССР по стандартам от 30 марта
1984 г. № 1145 срок действия установлен
<p align=right><u> с 01.01.85
<br> до 01.01.90 </u></b>

<p> Настоящий стандарт распространяется на интерфейс, регламентирующий общие
правила организации взаимодействия локальных подсистем в составе
автоматизированных систем управления рассредоточенными объектами,
использующими магистральную структуру связи (в дальнейшем - интерфейс).

<p> В части физической реализации стандарт распространяется на интерфейсы
агрегатных средств, использующих для передачи сообщений электрические
сигналы.

<h3 align=center> 1. НАЗНАЧЕНИЕ И ОБЛАСТЬ ПРИМЕНЕНИЯ </h3>

<p> 1.1. Интерфейс предназначен для организации связи и обмена информацией
между локальными подсистемами в составе автоматизированных системы управления
технологическими процессами, машинами и оборудованием в различных отраслях
промышленности и непромышленной сфере.

<p> 1.2. Интерфейс обеспечивает взаимодействие рассредоточенных локальных
подсистем, использующих спорадическую передачу информации в составе систем,
функционирующих в реальном масштабе времени.

<p> 1.3. Посредством интерфейса могут сопрягаться локальные подсистемы,
функционирующие в автономном режиме и реализующие частично или полностью
следующие функциональные задачи:
<ul>
<li> сбор, первичная обработка и хранение информации;
<li> непосредственное цифровое и супервизорное регулирование;
<li> программное-логическое управление;
<li> сопряжение с оперативно-технологическим персоналом;
<li> сопряжение с управляющими вычислительными комплексами верхнего яруса в
иерархических системах.
</ul>

<h3 align=center> 2. ОСНОВНЫЕ ХАРАКТЕРИСТИКИ </h3>

<p> 2.1. Интерфейс реализует бит-последовательный способ обмена данными по
двухпроводной линии связи.

<p> 2.2. Максимальная длина линии связи (включая длину отводов) - 3 км.

<p> 2.3. Рекомендуемое количество сопрягаемых локальных подсистем - не более
60.

<p> 2.4. Номинальная скорость передачи данных должна составлять 30, 100 или
500 кбит/с.

<p> 2.5. Для представления сигналов должна применяться двухфазная модуляция с
фазоразностным кодированием.

<p> 2.6. Для кодовой защиты передаваемых сообщений должен применяться
циклический код с производящим полиномом
X<sup>16</sup>+X<sup>12</sup>+X<sup>5</sup> +1.

<p> 2.7. В целях устранения случайных ошибок должна быть предусмотрена
возможность повторной передачи сообщений между теми же локальными
подсистемами.

<p> 2.8. Передача сообщений между локальными подсистемами должна
осуществляться посредством ограниченного набора функциональных байтов,
последовательность которых устанавливается форматом сообщения. Интерфейс
устанавливает два типа форматов сообщений (черт. 1).

<p> Формат 1 имеет фиксированную длину и предназначен для передачи только
интерфейсных сообщений.

<p> Формат 2 включает переменную по длине информационную часть,
предназначенную для передачи данных.

<p align=center><b> Типы форматов сообщений </b>
<p align=center><b> Формат 1 </b>
<p align=center><img src="img/26139-1.gif" tppabs="http://linux.nist.fss.ru/hr/doc/gost/img/26139-1.gif">
<p align=center><b> Формат 2 </b>
<p align=center><img src="img/26139-2.gif" tppabs="http://linux.nist.fss.ru/hr/doc/gost/img/26139-2.gif">
<p align=center> Черт. 1

<p> 2.9. Форматы сообщений должны включать следующие функциональные байты:
<ul>
<li> синхронизирующий СН;
<li> адрес вызываемой локальной подсистемы АВ;
<li> код выполняемой функции КФ;
<li> собственный адрес локальной подсистемы АС;
<li> длина информационной части (количество байтов данных) ДС, данных
ДН<sub>1</sub>-ДН<sub>n</sub>;
<li> байты контрольных кодов КБ1 и КБ2.
</ul>

<p> 2.9.1. Синхронизирующий байт СН служит для обозначения начала и конца
сообщения. Синхронизирующему байту присвоен код 01111110.

<p> 2.9.2. Байт адреса подсистемы АВ определяет локальную подсистему, которой
направляется сообщение.

<p> 2.9.3. Байт выполняемой функции КФ определяет операцию, которая
выполняется в данном цикле связи. Назначение разрядов внутри байта КФ
приведено на черт 2.

<p align=center><b> Структура байта КФ </b>
<p align=center><img src="img/26139-3.gif" tppabs="http://linux.nist.fss.ru/hr/doc/gost/img/26139-3.gif">
<p align=center> Черт. 2

<p>2.9.4. Коды КФ и соответствующие им выполняемые операции указаны в
таблице.

<p><table border=1 bordercolor=black cellpadding=4 cellspacing=0>
<tr>
 <th rowspan=2> Обозначение байта
 <th colspan=8> Код функции
 <th rowspan=2> Выполняемая операция
<tr>
 <th> 0
 <th> 1
 <th> 2
 <th> 3
 <th> 4
 <th> 5
 <th> 6
 <th> 7
<tr>
 <td>КФ1<td>1<td>X<td>X<td>X<td>0<td>0<td>0<td>0
 <td> Групповая передача (с общей адресацией)
<tr>
 <td>КФ2<td>1<td>X<td>X<td>X<td>0<td>0<td>0<td>1
 <td> Запись
<tr>
 <td>КФ3<td>1<td>X<td>X<td>X<td>0<td>0<td>1<td>0
 <td> Чтение
<tr>
 <td>КФ4<td>1<td>X<td>X<td>X<td>0<td>0<td>1<td>1
 <td> Запись-чтение
<tr>
 <td>КФ5<td>1<td>X<td>X<td>X<td>0<td>1<td>0<td>0
 <td> Централизованный опрос контроллеров
<tr>
 <td>КФ6<td>1<td>X<td>X<td>X<td>0<td>1<td>0<td>1
 <td> Передача управления магистральным каналом
<tr>
 <td>КФ7<td>1<td>X<td>X<td>X<td>0<td>1<td>1<td>0
 <td> Возврат управления магистральным каналом. Сообщение с общим адресом не
 принято
<tr>
 <td>КФ8<td>1<td>X<td>X<td>X<td>0<td>1<td>1<td>1
 <td> Возврат управления магистральным каналом. Сообщение с общим адресом
 принято
<tr>
 <td>КФ9<td>1<td>X<td>X<td>X<td>1<td>0<td>0<td>0
 <td> Децентрализованный опрос контроллеров. Отсутствие запроса на захват
 канала. Сообщение с общим адресом не принято
<tr>
 <td>КФ10<td>1<td>X<td>X<td>X<td>1<td>0<td>0<td>1
 <td> Отсутствие запроса на захват канала. Сообщение с общим адресом
 принято
<tr>
 <td>КФ11<td>1<td>X<td>X<td>X<td>1<td>0<td>1<td>0
 <td> Запрос на захват магистрального канала. Сообщение с общим адресом
 не принято
<tr>
 <td>КФ12<td>1<td>X<td>X<td>X<td>1<td>0<td>1<td>1
 <td> Запрос на захват магистрального канала. Сообщение с общим адресом
 принято
<tr>
 <td>КФ13<td>1<td>X<td>X<td>X<td>1<td>1<td>0<td>0
 <td rowspan=5> Резерв
<tr>
 <td>КФ14<td>1<td>X<td>X<td>X<td>1<td>1<td>0<td>1
<tr>
 <td>КФ15<td>1<td>X<td>X<td>X<td>1<td>1<td>1<td>0
<tr>
 <td>КФ16<td>1<td>X<td>X<td>X<td>1<td>1<td>1<td>1
<tr>
 <td>КФ17<td>0<td>X<td>X<td>X<td>0<td>0<td>0<td>0
<tr>
 <td>КФ18<td>0<td>X<td>X<td>X<td>0<td>0<td>0<td>1
 <td> Подтверждение приема сообщения
<tr>
 <td>КФ19<td>0<td>X<td>X<td>X<td>0<td>0<td>1<td>0
 <td> Подтверждение выдачи сообщения
<tr>
 <td>КФ20<td>0<td>X<td>X<td>X<td>0<td>0<td>1<td>1
 <td> Подтверждение приема и последующей выдачи сообщения. Ответы на
 централизованный опрос
<tr>
 <td>КФ21<td>0<td>X<td>X<td>X<td>0<td>1<td>0<td>0
 <td> Отсутствие запроса на захват канала. Сообщение с общим адресом не
 принято.
<tr>
 <td>КФ22<td>0<td>X<td>X<td>X<td>0<td>1<td>0<td>1
 <td> Отсутствие запроса на захват канала. Сообщение с общим адресом
 принято.
<tr>
 <td>КФ23<td>0<td>X<td>X<td>X<td>0<td>1<td>1<td>0
 <td> Запрос на захват канала. Сообщение с общим адресом не
 принято.
<tr>
 <td>КФ24<td>0<td>X<td>X<td>X<td>0<td>1<td>1<td>1
 <td> Запрос на захват канала. Сообщение с общим адресом
 принято.
<tr>
 <td>КФ25
 <td rowspan=3>&nbsp;
 <td rowspan=3>&nbsp;
 <td rowspan=3>&nbsp;
 <td rowspan=3>&nbsp;
 <td rowspan=3>&nbsp;
 <td rowspan=3>&nbsp;
 <td rowspan=3>&nbsp;
 <td rowspan=3>&nbsp;
 <td rowspan=3> Резерв
<tr>
 <td>. . .
<tr>
 <td>КФ32
</table>

<p> Нулевой разряд определяет вид сообщения (вызов-ответ), передаваемого по
магистральному каналу.

<p> Разряд 1 принимает единичное значение при занятости подсистемы (например
формирование буфера данных).

<p> Разряд 2 принимает единичное значение в том случае, если в данном цикле
передается сообщение формата 2.

<p> Разряд 3 принимает единичное значение в повторно посылаемом сообщении
одной и той же локальной подсистеме в случае обнаружения ошибки или
отсутствия ответа.

<p> 2.9.5. Собственный адрес локальной подсистемы, формирующей сообщение АС,
выдается для того, чтобы сообщить вызываемой локальной подсистеме адрес
ответа и проконтролировать правильность ее выбора.

<p> 2.9.6. Байт ДС, определяющий длину информационной части сообщения,
присутствует только в формате 2, при этом величина двоичного кода байта ДС
определяет количество байтов ДН. Исключение составляет код 00000000, который
обозначает, что передается 256 информационных байтов.

<p> 2.9.7. Байты данных ДН представляют информационную часть сообщения
формата 2. Кодирование данных должно устанавливаться нормирующими документами
на сопрягаемые локальные подсистемы.

<p> 2.9.8. Контрольные байты КБ1, КБ2 образуют контрольную часть и
используются для определения достоверности передаваемых сообщений.

<h3 align=center> 3. СТРУКТУРА ИНТЕРФЕЙСА </h3>

<p> 3.1. Интерфейс обеспечивает возможность построения рассредоточенных
систем с магистральной структурой связи (черт. 3).

<p align=center><b> Структура соединения локальных подсистем </b>
<p align=center><img src="img/26139-4.gif" tppabs="http://linux.nist.fss.ru/hr/doc/gost/img/26139-4.gif">
<p align=center><small>ЛС1-ЛСn - локальные подсистемы; МК - магистральный канал; РС -
резистор согласующий</small>
<p align=center> Черт. 3

<p> 3.2. Все сопрягаемые локальные подсистемы должны подключаться к
магистральному каналу, через который осуществляется обмен информацией.

<p> 3.3. Для сопряжения локальных подсистем с магистральным каналом в их
составе должны быть предусмотрены контроллеры связи. Контроллеры связи должны
осуществлять:
<ul>
<li> преобразование информации из формы представления, принятой в локальной
подсистеме, в форму, которая требуется для передачи по магистральному каналу;
<li> добавление и выделение знаков синхронизации;
<li> распознавание и прием сообщений, адресованных данной локальной
подсистеме;
<li> формирование и сравнение контрольных кодов для определения достоверности
принимаемых сообщений.
</ul>

<p>3.4. Обмен сообщениями между локальными подсистемами должен быть
организован в виде циклов. Под циклом понимается процедура передачи в
магистральный канал одного сообщения формата 1 или 2. Несколько
взаимосвязанных циклов образуют процесс передачи.

<p> 3.5. Процесс передачи должен быть организован по асинхронному принципу:
на посылаемые в магистральный канал вызовы локальная подсистема должна
получать ответы (за исключением групповых операций).

<h3 align=center> 4. ФУНКЦИИ ИНТЕРФЕЙСА </h3>

<p> 4.1. Интерфейс устанавливает следующие виды функций, отличающиеся по
уровням управления, которые занимают локальные подсистемы в процессе обмена
сообщениями:
<ul>
<li> пассивный прием (низший уровень);
<li> прием и ответ;
<li> децентрализованное управление магистральным каналом;
<li> запрос захвата магистрального канала;
<li> центральное управление магистральным каналом.
</ul>

<p> 4.2. Состав интерфейсных функций, реализуемых локальной подсистемой,
определяется составом задачи, решаемой данной подсистемой и ее
функциональными характеристиками.

<p> 4.3. Тип локальной подсистемы определяется функцией наиболее высокого
уровня из числа предусмотренных. Локальная подсистема считается активной
относительно той функции, которую она исполняет в текущем цикле.

<p> 4.4. В соответствии с составом реализуемых интерфейсных функций
различаются следующие типы локальных подсистем:
<ul>
<li> пассивная управляемая подсистема;
<li> управляемая подсистема;
<li> управляющая подсистема;
<li> инициативная управляющая подсистема;
<li> ведущая подсистема.
</ul>

<p> 4.4.1. Пассивная управляемая подсистема выполняет только опознание и
прием адресованных ей сообщений.

<p> 4.4.2. Управляемая подсистема осуществляет прием адресованных ей
сообщений и формирует ответное сообщение в соответствии с принятым кодом
функции.

<p> 4.4.3. Управляющая подсистема должна обладать способностью:
<ul>
<li> принимать управление обменом по магистральному каналу;
<li> формировать и передавать сообщения по магистральному каналу;
<li> принимать и анализировать ответные сообщения;
<li> возвращать управление магистральным каналом после окончания процесса
передачи.
</ul>

<p> 4.4.4. Инициативная управляющая подсистема помимо функций по п. 4.4.3
должна обладать способностью формировать сигнал запроса для захвата
магистрального канала, принимать и посылать соответствующие сообщения при
выполнении процедуры поиска запрашивающей подсистемы.

<p> 4.4.5. Ведущая подсистема координирует работу всех локальных подсистем,
сопряженных с магистральным каналом. Она осуществляет:
<ul>
<li> арбитраж и передачу управления магистральным каналом одной из
управляющих локальных подсистем;
<li> центральное управление всеми локальными подсистемами;
<li> контроль работы активной управляющей локальной подсистемы;
<li> передачу сообщений с общим адресом для всех (или нескольких) локальных
подсистем.
</ul>

<p> К магистральному каналу может быть подключена только одна подсистема,
имеющая активную функцию ведущей.

<h3 align=center> 5. ПОРЯДОК ОБМЕНА СООБЩЕНИЯМИ </h3>

<p> 5.1. Каждый цикл передачи сообщения по магистральному каналу должен
начинаться с синхронизации всех сопряженных по интерфейсу подсистем.

<p> 5.1.1. Для выполнения синхронизации ведущая или активная управляющая
подсистема должна передать в магистральный канал синхронизирующий байт СН.
Допускается передавать последовательно несколько синхронизирующих байтов.
Дополнительные синхронизирующие байты в формат сообщение не включаются.

<p> 5.1.2. После выполнения синхронизации всех подсистем ведущая или активная
управляющая подсистема передает в магистральный канал сообщение формата 1 или
12, включая их собственные байты СН.

<p> 5.1.3. Все байты, за исключением контрольных КБ1 и КБ2, передаются в
магистральный канал, начиная с младшего разряда.

<p> Байты КБ1 и КБ2 передаются со старшего разряда.

<p> 5.1.4. Для исключения из передаваемого в магистральный канал сообщения
последовательности битов, совпадающих с кодом байта СН, каждое сообщение
должно быть преобразовано таким образом, что после 5 следующих друг за другом
символов &laquo;1&raquo; должен включаться один дополнительный символ
&laquo;0&raquo;. Принимающей подсистемой этот символ должен соответственно
исключаться из сообщения.

<p> 5.1.5. После передачи сообщения, включая оконечный байт СН, передающая
подсистема должна передать еще не менее 2 байтов СН для завершения операций
приема, после чего цикл передачи заканчивается.

<p> 5.2. Координация взаимодействия подсистем, сопряженных посредством
интерфейса, должна осуществляться ведущей подсистемой. Координация
выполняется при помощи процедур управления магистральным каналом.

<p> 5.2.1. Процедура управления магистральным каналом предусматривает
выполнение функций передачи управления магистральным каналом и функции
возврата управления магистральным каналом.

<p> 5.2.2. При передаче управления магистральным каналом ведущая подсистема
назначает активную управляющую подсистему для выполнения процесса передачи
сообщений. Для этого ведущая подсистема должна направить выбранной
управляющей подсистеме сообщение формата 1 с кодом функции КФ6.

<p> 5.2.3. Управляющая подсистема после принятия сообщения с кодом функции
КФ6 должна стать активной и может выполнять в одном процессе передачи
несколько циклов обмена сообщениями. Количество циклов обмена должно
контролироваться и ограничиваться ведущей подсистемой.

<p> 5.2.4. После выполнения передачи управления магистральным каналом ведущая
подсистема должна активизировать в себе функцию пассивного приема и включить
контрольный отсчет времени. Если в течение установленного времени (время
ожидания ответа не должно быть более 1 мс) назначенная активной подсистема не
начинает передачу сообщений по магистральному каналу, ведущая подсистема
повторно направляет управляющей подсистеме сообщение формата 1 с кодом
функции КФ6 и признаком повторной передачи.

<p> 5.2.5. В случае, если и при повторном обращении управляющая подсистема не
начинает передачу сообщений (не становится активной), ведущая подсистема
определяет ее как неисправную и реализует предусмотренные для такой ситуации
процедуры.

<p> 5.2.6. По окончании процесса передачи активная управляющая подсистема
должна выполнить функцию возврата управления магистральным каналом. Для этого
она должна направить ведущей подсистеме сообщение с кодом функции КФ7 или
КФ8.

<p> 5.3. Передача управления магистральным каналом может быть организована
как по инициативе ведущей подсистемы, так и по запросам от инициативных
управляющих подсистем.

<p> 5.3.1. При передаче управления магистральным каналом по инициативе
ведущей подсистемы последовательность процедур управления магистральным
каналом с целью активизации управляющих подсистем определяется только ведущей
подсистемой.

<p> 5.3.2. Передача управления магистральным каналом по запросам может быть
организована только для инициативных управляющих подсистем. При этом
возможны два способа организации поиска подсистемы, запрашивающий доступ к
магистральному каналу - централизованный и децентрализованный.

<p> 5.3.3. При централизованном опросе ведущая подсистема должна
последовательно опросить все подключенные к магистральному каналу
инициативные управляющие подсистемы. Ведущая подсистема должна направить
каждой инициативной управляющей подсистеме сообщение формата 1 с кодом
функции КФ5.

<p> Инициативная управляющая подсистема должна направить ведущей подсистеме
ответное сообщение с одним из кодов функций КФ21-КФ24 в зависимости от своего
внутреннего состояния. Последовательность операций в процедуре
централизованного опроса приведена на черт. 4.

<p align=center><b> Процесс централизованного опроса подсистемы </b>
<p align=center><img src="img/26139-5.gif" tppabs="http://linux.nist.fss.ru/hr/doc/gost/img/26139-5.gif">
<p align=center> Черт. 4

<p> 5.3.4. Децентрализованный опрос обеспечивает быстрый процесс определения
инициативных управляющих подсистем, установивших запрос доступа к
магистральному каналу. Ведущая подсистема должна обратиться только к первой
по очереди инициативной управляющей подсистеме с сообщением формата 1 и кодом
функции КФ9.

<p> Каждая инициативная управляющая подсистема должна воспринимать
адресованное ей сообщение и посылать в магистральный канал свое сообщение,
адресованное следующей по очереди подсистеме. В формируемом сообщении должен
передаваться один из кодов функции КФ9-КФ12, характеризующий состояние данной
подсистемы. Процедура децентрализованного опроса иллюстрируется черт. 5.

<p align=center><b> Процесс децентрализованного опроса подсистемы </b>
<p align=center><img src="img/26139-6.gif" tppabs="http://linux.nist.fss.ru/hr/doc/gost/img/26139-6.gif">
<p align=center> Черт. 5

<p> 5.3.5. Ведущая подсистема после запуска децентрализованного опроса
активизирует функцию пассивного приема и принимает все сообщения, посылаемые
инициативными управляющими подсистемами. Это позволяет ведущей подсистеме
после окончания децентрализованного опроса иметь информацию о запросах доступа
к магистральному каналу у всех инициативных управляющих подсистем.

<p> Последняя в цепи децентрализованного опроса инициативная управляющая
подсистема должна адресовать свое сообщение ведущей подсистеме, что означает
конец процедуры децентрализованного опроса.

<p> 5.3.6. В случае, если какая-либо подсистема не выдает сообщения в
магистральный канал после обращения к ней, ведущая подсистема должна
активизироваться и послать ей повторное сообщение, идентичное предыдущему. В
случае отсутствия ответа (или ошибок) на повторный вызов ведущая подсистема
запускает децентрализованный опрос со следующей по очереди подсистемы, а
данная подсистема из опроса исключается.

<p> 5.4. Процедура передачи данных может выполняться в виде одного из
следующих процессов:
<ul>
<li> групповой записи;
<li> записи;
<li> чтения;
<li> записи-чтения.
</ul>

<p> 5.4.1. Групповая запись должна выполняться ведущей подсистемой. При
выполнении групповой записи ведущая подсистема выдает в магистральный канал
сообщение формата 2, в котором в качестве адреса АВ записан код 11111111
(255) и код функции КФ1.

<p> 5.4.2. Все подсистемы, реагирующие на групповой адрес, должны принять
сообщение из магистрального канала и зафиксировать состояние, означающее, что
сообщение с общим адресом принято. Ответные сообщения при групповой записи
принимающими подсистемами не выдаются.

<p> 5.4.3. Подтверждение приема группового сообщения осуществляется в
процессе централизованного или децентрализованного опроса, а также при
возврате управления магистральным каналом, для чего в коды функций КФ7, КФ8,
КФ9-КФ12 и КФ21-КФ24 включен бит соответствующего состояния.

<p> 5.4.4. В процессе записи ведущая подсистема или активная управляющая
подсистема посылает в магистральный канал сообщение формата 2 с кодом функции
КФ2, предназначенное для приема конкретной управляющей подсистемой, адрес
которой указан в байте АВ. После выдачи сообщения активная управляющая
подсистема включает контрольный отсчет времени и ждет ответное сообщение.

<p> 5.4.5. Адресованная подсистема опознает свой адрес и принимает
посылаемое ей сообщение. В том случае, если сообщение принято без ошибок,
принимающая подсистема должна выдать в магистральный канал ответ в виде
сообщения формата 1 с кодом функции КФ18.

<p> 5.4.6. В случае, если в принятом сообщении обнаружена ошибка, принимающая
подсистема не должна выдавать ответ.

<p> 5.4.7. Активная управляющая подсистема при отсутствии ответа в течение
интервала контрольного времени должна повторно выполнить передачу того же
сообщения.

<p> 5.4.8. При отсутствии ответа на повторное сообщение данная подсистема
считается неисправной и активная управляющая подсистема должна выполнить
предписанную для такой ситуации процедуру (включение сигнализации, исключение
подсистемы из обращения, включение резерва и т. д.).

<p> 5.4.9. Диалог управляющей и управляемой подсистем должен постоянно
контролироваться ведущей подсистемой, выполняющей в это время функцию
пассивного приема сообщений.

<p> 5.4.10. Процесс чтения должен начинаться посылкой активной управляющей
подсистемой сообщения формата 1 с кодом функции КФ3.

<p> 5.4.11. Подсистема, которой адресовано это сообщение, в случае исправного
его приема, должна выдать ответное сообщение формата 2 с кодом функции КФ19.

<p> 5.4.12. В случае, если вызываемая подсистема не может выдать данные в
течение установленного времени ожидания, то она должна после принятия
сообщения с функцией чтения зафиксировать признак занятости подсистемы и
приступить к формированию массива данных для выдачи.

<p> 5.4.13. Данная управляемая подсистема должна запомнить адрес обратившейся
к ней активной управляющей подсистемы (для которой готовятся данные) и в
ответных сообщениях другим управляющим подсистемам устанавливать признак
занятости.

<p> 5.4.14. Для считывания подготовленных данных активная управляющая
подсистема должна вновь обратиться к управляемой подсистеме с сообщением
формата 1 с кодом функции КФ3. Если данные к этому времени подготовлены, то
управляемая подсистема должна выдать ответное сообщение формата 2 с кодом
КФ19.

<p> Признак занятости подсистемы должен сниматься только после передачи
ответного сообщения формата 2.

<p> 5.4.15. Если ответное сообщение принято активной управляющей подсистемой
без ошибки, то процесс чтения на этом завершается.

<p> 5.4.16. При обнаружении ошибки или отсутствии ответа активная управляющая
подсистема повторяет обращение, а затем предпринимает меры, аналогичные
приведенным в пп. 5.4.7, 5.4.8.

<p> 5.4.17. Запись-чтение представляет собой совмещение процессов по пп.
5.4.4.-5.4.15.

<p> 5.4.18. Активная управляющая подсистема посылает в магистральный канал
сообщение формата 2 с кодом функции КФ4.

<p> 5.4.19. Адресованная подсистема должна принять направленные ей сообщение
и сформировать ответное.

<p> 5.4.20. Ответное сообщение в данном процессе должно быть представлено
форматом 2 (содержать считываемые данные) и иметь код функции КФ20.

<p> 5.4.21. Контроль достоверности передаваемых сообщений и предпринимаемые
активной управляющей подсистемой действия должны быть аналогичны приведенным
для процессов записи и чтения.

<h3 align=center> 6. ФИЗИЧЕСКАЯ РЕАЛИЗАЦИЯ </h3>

<p> 6.1. Физически интерфейс реализуется в виде линий связи, образующих
магистральный канал, и контроллеров связи, обеспечивающих непосредственное
подключение к линиям связи.

<p> 6.2. Контроллеры связи должны выполняться в виде функциональных узлов,
входящих в состав подсистемы, или в виде конструктивно обособленных
устройств.

<p> 6.3. Правила сопряжения и взаимодействия контроллеров связи с
функциональной частью подсистемы данным стандартом не регламентируются.

<p> 6.4. Для линий связи магистрального канала должен применяться
коаксиальный кабель с волновым сопротивлением 75 Ом.

<p> 6.5. Коаксиальный кабель должен быть нагружен на обоих концах
согласующими резисторами сопротивлением (75&plusmn;3,75)
Ом. Мощность согласующих резисторов должна быть не менее 0,25 Вт.

<p> Согласующие резисторы должны подключаться к концам линий связи при помощи
ВЧ-соединителей.

<p> Заземление или соединение линий связи с корпусами устройств в сопрягаемых
подсистемах не допускается.

<p> 6.6. Затухание по линии связи магистрального канала должны быть не более
18 дБ для скорости 500 кбит/с.

<p> 6.7. Суммарное затухание, вносимое каждым ответвлением о линии связи
магистрального канала, не должно превышать 0,1 дБ, включая затухание,
определяемое качеством точки стыковки, затухание на ответвлении и затухание,
зависящее от входных-выходных параметров схем согласования.

<p> 6.8. Ответвления от линии связи магистрального канала должны выполняться
коаксиальным кабелем с волновым сопротивлением 75 Ом. Длина каждого
ответвления - не более 3 м. Суммарная длина всех ответвлений входит в
суммарную длину магистрального канала. Подключение к линии связи должно
осуществляться при помощи ВЧ-соединителей. Отключение любой из подсистем не
должно приводить к разрыву линии связи.

<p> 6.9. Контроллеры связи должны содержать приемо-передающие усилители,
обеспечивающие:
<pre>
     чувствительность по приему, не хуже . . . . 240 мВ
     уровень выходного сигнала . . . . . . . . . от 4 до 5 В
     выходное сопротивление  . . . . . . . . . . (37,50&plusmn;1,88) Ом
</pre>

<p> 6.10. Формирование электрических сигналов для передачи в магистральный
канал осуществляется модуляцией тактовой частоты сигналами передаваемого
сообщения. Каждому биту передаваемого сообщения соответствует полный период
тактовой частоты, причем передний и задний фронты передаваемого сигнала
должны совпадать с переходом через ноль тактовой частоты (черт. 6).
Соответствие символов, принимаемых из магистрального канала, значащим
состояниям устанавливается следующим образом:
<ul>
<li> символу &laquo;0&raquo; соответствует противоположная фаза относительно
предыдущего символа,
<li> символу &laquo;1&raquo; соответствует одинаковая фаза относительно
предыдущего символа.
</ul>

<p align=center><b> Временная диаграмма модуляции передаваемых сигналов </b>
<p align=center><img src="img/26139-7.gif" tppabs="http://linux.nist.fss.ru/hr/doc/gost/img/26139-7.gif">
<p align=center><small>1 - сигналы сообщения; 2 - тактовая частота; 3
- промодулированные сигналы сообщения </small>
<p align=center> Черт. 6

<hr>
<h3 align=center>ИНФОРМАЦИОННАЯ ЧАСТЬ</h3>

<p>РАЗРАБОТАН Министерством приборостроения, средств автоматизации и систем
управления.

<p>ИСПОЛНИТЕЛИ
<br>К. И. Диденко, канд. техн. наук; Ю. В. Розеи; К. Г. Карнаут;
М. Д. Гафанович, канд. техн. наук; К. М. Усенко; Ж. А. Гусева; Л. С. Ланина;
С. Н. Кийко

<p>ВНЕСЕН Министерством приборостроения, средств автоматизации и систем
управления.

<P>Член коллегии Н.И.Гореликов

<p>УТВЕРЖДЕН И ВВЕДЕН В ДЕЙСТВИЕ Постановлением Государственного комитета
СССР по стандартам от 30 марта 1984 г. № 1145

<hr>
<p><small><i>Издательство стандартов, 1984</i></small>
<hr>
</body>
</html>
